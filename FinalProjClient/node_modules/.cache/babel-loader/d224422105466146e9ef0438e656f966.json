{"ast":null,"code":"var _jsxFileName = \"/Users/SeanQuinn/Desktop/CSC437FinalProj/FinalProjClient/src/components/Ents/MyEntsOverview.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ListGroup, ListGroupItem, Col, Row, Button } from 'react-bootstrap';\nimport { ConfDialog, EntItem } from '../components';\nimport EntModal from './EntModal';\nimport './Ent.css';\nexport default class MyEntsOverview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openModal = cnv => {\n      this.setState({\n        showModal: true,\n        editCnv: cnv\n      });\n    };\n\n    this.modalDismiss = result => {\n      if (result.status === \"Ok\") {\n        result.newEnt['ownerId'] = this.props.Prss.id;\n        result.newEnt['userName'] = this.props.Prss.firstName + ' ' + this.props.Prss.lastName;\n        console.log('in overview', result.newEnt);\n        this.newEnt(result.newEnt);\n      }\n\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.openConfirmation = cnv => {\n      this.setState({\n        delCnv: cnv,\n        showConfirmation: true\n      });\n    };\n\n    this.closeConfirmation = res => {\n      if (res === \"Yes\") {\n        this.props.delCnv(this.state.delCnv.id); //this.props.updateCnvs();\n\n        this.setState({\n          showConfirmation: false,\n          delCnv: null\n        });\n      } else {\n        console.log(res);\n        this.setState({\n          showConfirmation: false,\n          delCnv: null\n        });\n      }\n    };\n\n    this.openEdit = cnv => {\n      this.setState({\n        delCnv: cnv,\n        showConfirmation: true\n      });\n    };\n\n    this.props.getMyEntries(ents => {\n      this.props.getBoards(this.props.Prss.id, boards => {\n        this.setState({\n          'boards': boards\n        });\n      });\n    });\n    this.state = {\n      showModal: false,\n      showConfirmation: false,\n      boards: []\n    };\n  } // Open a model with a |cnv| (optional)\n\n\n  modCnv(result) {\n    this.props.modCnv(this.state.editCnv.id, result.title);\n    this.props.updateCnvs();\n  }\n\n  newEnt(result) {\n    this.props.addEntry(result);\n  }\n\n  render() {\n    console.log(\"Rerendering My Ents Overview \", this.props);\n    var entries = [];\n    console.log(this.props.Ents);\n    this.props.Ents.forEach(ent => {\n      //if (!this.props.userOnly || this.props.Prss.id === cnv.ownerId)\n      entries.push(React.createElement(EntItem, {\n        key: ent.id,\n        ownerId: ent.ownerId,\n        title: ent.title,\n        waveHeight: ent.waveHeight,\n        content: ent.content,\n        rating: ent.rating,\n        loc: ent.loc,\n        pub: ent.pub,\n        whenSurfed: ent.whenSurfed,\n        picURL: ent.picURL,\n        id: ent.id,\n        boards: this.state.boards,\n        showControls: ent.ownerId === this.props.Prss.id || this.props.Prss.role === 1,\n        onDelete: () => this.openConfirmation(ent),\n        onEdit: () => this.openModal(ent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"section\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"My Journal Entries\"), React.createElement(ListGroup, {\n      className: \"padded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, entries), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.openModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"New Entry\"), React.createElement(EntModal, {\n      showModal: this.state.showModal,\n      onDismiss: this.modalDismiss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(ConfDialog, {\n      show: this.state.showConfirmation,\n      title: \"Delete Conversation\",\n      body: \"Are you sure you want to delete the Conversation\\n           '\".concat(this.state.delCnv ? this.state.delCnv.title : '', \"'\"),\n      buttons: ['Yes', 'Abort'],\n      onClose: this.closeConfirmation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/SeanQuinn/Desktop/CSC437FinalProj/FinalProjClient/src/components/Ents/MyEntsOverview.jsx"],"names":["React","Component","Link","ListGroup","ListGroupItem","Col","Row","Button","ConfDialog","EntItem","EntModal","MyEntsOverview","constructor","props","openModal","cnv","setState","showModal","editCnv","modalDismiss","result","status","newEnt","Prss","id","firstName","lastName","console","log","openConfirmation","delCnv","showConfirmation","closeConfirmation","res","state","openEdit","getMyEntries","ents","getBoards","boards","modCnv","title","updateCnvs","addEntry","render","entries","Ents","forEach","ent","push","ownerId","waveHeight","content","rating","loc","pub","whenSurfed","picURL","role"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport {ListGroup, ListGroupItem, Col, Row, Button} from 'react-bootstrap';\nimport {ConfDialog, EntItem} from '../components';\nimport EntModal from './EntModal';\nimport './Ent.css';\n\n\nexport default class MyEntsOverview extends Component {\n   constructor(props) {\n      super(props);\n      this.props.getMyEntries(\n         ents => {\n            this.props.getBoards(this.props.Prss.id,\n               boards => {\n                  this.setState({'boards': boards})\n               })\n         }\n      );\n\n      this.state = {\n         showModal: false,\n         showConfirmation: false,\n         boards: []\n      }\n   }\n\n   // Open a model with a |cnv| (optional)\n   openModal = (cnv) => {\n      this.setState({showModal: true, editCnv: cnv});\n   }\n\n   modalDismiss = (result) => {\n      if (result.status === \"Ok\") {\n         result.newEnt['ownerId'] = this.props.Prss.id\n         result.newEnt['userName'] = this.props.Prss.firstName + ' ' + \n          this.props.Prss.lastName;\n         console.log('in overview', result.newEnt)\n         this.newEnt(result.newEnt);\n      }\n      this.setState({ showModal: false });\n   }\n\n   modCnv(result) {\n      this.props.modCnv(this.state.editCnv.id, result.title);\n      this.props.updateCnvs();\n   }\n\n   newEnt(result) {\n      this.props.addEntry(result);\n   }\n\n   openConfirmation = (cnv) => {\n      this.setState({ delCnv: cnv, showConfirmation: true })\n   }\n\n   closeConfirmation = (res) => {\n      if(res === \"Yes\"){\n         this.props.delCnv(this.state.delCnv.id);\n         //this.props.updateCnvs();\n         this.setState({showConfirmation: false, delCnv: null });\n      } else {\n         console.log(res)\n         this.setState({ showConfirmation: false, delCnv: null });\n      }\n      \n   }\n\n   openEdit = (cnv) => {\n      this.setState({ delCnv: cnv, showConfirmation: true })\n   }\n\n   \n\n   render() {\n      console.log(\"Rerendering My Ents Overview \", this.props);\n      var entries = [];\n      console.log(this.props.Ents)\n      this.props.Ents.forEach(ent => {\n         //if (!this.props.userOnly || this.props.Prss.id === cnv.ownerId)\n            entries.push(<EntItem\n               key={ent.id}\n               ownerId={ent.ownerId}\n               title={ent.title}\n               waveHeight={ent.waveHeight}\n               content={ent.content}\n               rating={ent.rating}\n               loc={ent.loc}\n               pub={ent.pub}\n               whenSurfed={ent.whenSurfed}\n               picURL={ent.picURL}\n               id={ent.id}\n               boards={this.state.boards}\n               showControls={ent.ownerId === this.props.Prss.id || \n                this.props.Prss.role === 1}\n               onDelete={() => this.openConfirmation(ent)}\n               onEdit={() => this.openModal(ent)} />);\n      });\n\n      return (\n         <section className=\"container\">\n            <h1>My Journal Entries</h1>\n\n            <ListGroup className=\"padded\">\n               {entries}\n            </ListGroup>\n            <Button variant=\"primary\" onClick=\n               {() => this.openModal()}>New Entry</Button>\n            {/* Modal for creating and change cnv */}\n            <EntModal\n               showModal={this.state.showModal}\n               onDismiss={this.modalDismiss} />\n            \n            <ConfDialog\n               show={this.state.showConfirmation}\n               title=\"Delete Conversation\"\n               body={`Are you sure you want to delete the Conversation\n           '${this.state.delCnv ? this.state.delCnv.title : ''}'`}\n               buttons={['Yes', 'Abort']}\n               onClose={this.closeConfirmation} />\n         </section>\n      )\n   }\n}\n"]},"metadata":{},"sourceType":"module"}